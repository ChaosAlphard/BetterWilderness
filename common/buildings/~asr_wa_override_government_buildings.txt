# 再生源地
# 基础: +100孵育体, 给予人口组装速度加成, 反比于行星人口数量
# 拥有 基因重塑 飞升: +100孵育体
# 拥有 基因剪裁 科技: +100孵育体
# 纯净传统完成: +100孵育体, 每个建筑与区划给予+2%建造速度和决议颁布速度, 在盖亚星球上加成翻倍
# 掌控自然飞升: 给予-10%行星基础设施花费
building_cradle_of_rebirth = {
  icon = "seed_cradle_2"
  category = government
  base_buildtime = @buildtime_3
  can_build = yes
  can_demolish = yes
  can_be_ruined = yes
  planet_limit = 1

  building_sets = {
    government
    urban
  }

  potential = {
    exists = owner
    owner = {
      is_wilderness_empire = yes
    }
  }
  destroy_trigger = {
    exists = owner
    owner = {
      is_wilderness_empire = no
    }
  }

  resources = {
    category = planet_buildings
    cost = {
      food = @b2_minerals
      biomass = @wa_b2_biomass
    }
    upkeep = {
      food = @b2_upkeep
    }
  }

  # 基因重塑局势推进
  # 不起效, 原因是蠢驴在局势里面特意屏蔽了荒野相关修正
  # triggered_country_modifier = {
  #   potential = {
  #     owner = {
  #       country_has_situation = { SITUATION = genetic_ascension_situation_hive }
  #       # has_ascension_perk = ap_engineered_evolution
  #       # has_completed_genetic_situation = no
  #     }
  #   }
  #   biomorphosis_progress_mult = 0.000125
  #   mult = value:asr_wa_workforce_spawning_drone|MIN|100|
  # }

  inline_script = { script = asr_wa/building/cradle_of_rebirth/spawning_drone }
  inline_script = { script = asr_wa/building/cradle_of_rebirth/simulate_spawning_drone }

  # 掌控自然飞升给予-10%行星基础设施花费
  triggered_planet_modifier = {
    potential = {
      OR = {
        has_modifier = mastery_of_nature
        AND = {
          exists = owner
          owner = { has_ascension_perk = ap_mastery_of_nature }
        }
      }
    }
    planet_structures_cost_mult = -0.10
  }
  # 建筑和区划给予+2%建造和决议颁布速度, 盖亚星球上翻倍
  triggered_planet_modifier = {
    potential = {
      exists = owner
      owner = {
        is_wilderness_empire = yes
        has_tradition = tr_purity_finish
      }
    }
    planet_building_build_speed_mult = 0.02
    planet_decision_enact_speed_mult = 0.02
    mult = value:asr_wa_cor_bonus_build_speed
  }

  inline_script = {
    script = buildings/on_all_wilderness_buildings_districts
  }

  triggered_desc = {
    trigger = { always = yes }
    text = asr_wa_b_cor_tt
  }

  triggered_desc = {
    trigger = { always = yes }
    text = asr_wa_b_cor_bonus_pop_growth_tt
  }

  ai_estimate_without_unemployment = yes
  ai_weight_coefficient = 1.2
  additional_ai_weight = 200
}
