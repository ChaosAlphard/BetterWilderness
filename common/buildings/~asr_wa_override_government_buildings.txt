# 再生源地
# 基础: +100孵育体, 每50人+1免疫体
# 拥有 基因图谱 科技: +100孵育体
# 拥有 基因剪裁 科技: +100孵育体
# 纯净传统完成: +100孵育体, +30%有机人口岗位效率
building_cradle_of_rebirth = {
  icon = "seed_cradle_2"
  category = government
  base_buildtime = @b1_time
  can_build = yes
  can_demolish = yes
  can_be_ruined = yes
  planet_limit = 1

  building_sets = {
    government
  }

  potential = {
    exists = owner
    owner = {
      is_wilderness_empire = yes
    }
  }
  destroy_trigger = {
    exists = owner
    owner = {
      is_wilderness_empire = no
    }
  }

  resources = {
    category = planet_buildings
    cost = {
      food = @b2_minerals
      biomass = @b3_biomass
    }
    upkeep = {
      food = @b1_upkeep
    }
  }

  # 岗位
  inline_script = {
    script = jobs/spawning_drone_add
    AMOUNT = @building_static_jobs_low
  }
  triggered_planet_modifier = {
    potential = {
      exists = owner
      owner = {
        is_wilderness_empire = yes
        has_technology = tech_genome_mapping
      }
    }
    modifier = {
      job_spawning_drone_add = @building_static_jobs_low
    }
  }
  triggered_planet_modifier = {
    potential = {
      exists = owner
      owner = {
        is_wilderness_empire = yes
        has_technology = tech_gene_tailoring
      }
    }
    modifier = {
      job_spawning_drone_add = @building_static_jobs_low
    }
  }
  triggered_planet_modifier = {
    potential = {
      exists = owner
      owner = { is_wilderness_empire = yes }
    }
    modifier = {
      job_patrol_drone_per_pop = 0.02
    }
  }
  # 额外有机人口增长系数, 反比于行星人口数量, +200% - +0%
  triggered_planet_modifier = {
    potential = {
      exists = owner
      owner = { is_wilderness_empire = yes }
      count_owned_pop_amount = {
        limit = { has_trait = trait_wilderness }
        count <= 2000
      }
    }
    bonus_pop_growth_mult = 0.01
    mult = value:asr_wa_bonus_growth_by_pops
  }

  # 基因重塑: 宜居性
  # 纯净传统完成: 岗位、岗位效率
  triggered_planet_modifier = {
    potential = {
      exists = owner
      owner = {
        is_wilderness_empire = yes
        has_tradition = tr_purity_finish
      }
    }
    modifier = {
      job_spawning_drone_add = @building_static_jobs_low
      organic_pop_bonus_workforce_mult = 0.30
    }
  }

  # 根据人口数量给予舒适度
  triggered_planet_modifier = {
    potential = {
      exists = owner
      owner = { is_wilderness_empire = yes }
    }
    planet_amenities_no_happiness_add = 1
    mult = value:asr_wa_amenities_by_pops|RATIO|0.2|
  }
  triggered_planet_modifier = {
    potential = {
      exists = owner
      owner = { is_wilderness_empire = yes }
      has_active_building = building_avatar_chamber_4
    }
    planet_amenities_no_happiness_add = 1
    mult = value:asr_wa_amenities_by_pops|RATIO|0.3|
  }

  triggered_planet_modifier = {
    potential = {
      exists = owner
      owner = {
        has_tradition = tr_purity_finish
      }
    }
    planet_building_build_speed_mult = 0.02
    planet_decision_enact_speed_mult = 0.02
    mult = value:asr_wa_num_buildings_and_districts
  }

  inline_script = {
    script = buildings/on_all_wilderness_buildings_districts
  }

  ai_estimate_without_unemployment = yes
  ai_weight_coefficient = 1.2
  additional_ai_weight = 200
}
