# 再生源地
# 基础: +100孵育体, 每50人+1免疫体
# 拥有 基因图谱 科技: +100孵育体
# 拥有 基因剪裁 科技: +100孵育体
# 纯净传统完成: +100孵育体, +30%有机人口岗位效率
building_cradle_of_rebirth = {
  icon = "seed_cradle_2"
  category = government
  base_buildtime = @buildtime_3
  can_build = yes
  can_demolish = yes
  can_be_ruined = yes
  planet_limit = 1

  building_sets = {
    government
  }

  potential = {
    exists = owner
    owner = {
      is_wilderness_empire = yes
    }
  }
  destroy_trigger = {
    exists = owner
    owner = {
      is_wilderness_empire = no
    }
  }

  resources = {
    category = planet_buildings
    cost = {
      food = @b2_minerals
      biomass = @wa_b2_biomass
    }
    upkeep = {
      food = @b2_upkeep
    }
  }

  # 孵育体岗位
  inline_script = {
    script = jobs/spawning_drone_add
    AMOUNT = @building_static_jobs_low
  }
  triggered_planet_modifier = {
    potential = {
      exists = owner
      owner = {
        is_wilderness_empire = yes
        has_technology = tech_genome_mapping
      }
    }
    modifier = {
      job_spawning_drone_add = @building_static_jobs_low
    }
  }
  triggered_planet_modifier = {
    potential = {
      exists = owner
      owner = {
        is_wilderness_empire = yes
        has_technology = tech_gene_tailoring
      }
    }
    modifier = {
      job_spawning_drone_add = @building_static_jobs_low
    }
  }
  triggered_planet_modifier = {
    potential = {
      exists = owner
      owner = { is_wilderness_empire = yes }
    }
    modifier = {
      job_patrol_drone_per_pop = 0.02
    }
  }
  # 额外有机人口增长系数, 反比于行星人口数量, +1000% - +0%
  triggered_planet_modifier = {
    potential = {
      exists = owner
      owner = { is_wilderness_empire = yes }
      count_owned_pop_amount = {
        limit = { has_trait = trait_wilderness }
        count <= 2000
      }
    }
    bonus_pop_growth_mult = 0.5
    mult = value:asr_wa_bonus_growth_by_pops
  }

  # 纯净传统完成: 给予孵育体岗位和岗位效率
  triggered_planet_modifier = {
    potential = {
      exists = owner
      owner = {
        is_wilderness_empire = yes
        has_tradition = tr_purity_finish
      }
    }
    modifier = {
      job_spawning_drone_add = @building_static_jobs_low
      pop_bonus_workforce_mult = 0.30
    }
  }

  # 根据人口数量给予舒适度
  triggered_planet_modifier = {
    potential = {
      exists = owner
      owner = { is_wilderness_empire = yes }
    }
    planet_amenities_no_happiness_add = 1
    mult = value:asr_wa_amenities_by_pops|RATIO|0.2|
  }
  triggered_planet_modifier = {
    potential = {
      exists = owner
      owner = { is_wilderness_empire = yes }
      has_active_building = building_avatar_chamber_4
    }
    planet_amenities_no_happiness_add = 1
    mult = value:asr_wa_amenities_by_pops|RATIO|0.3|
  }

  # 掌控自然修正给予-10%行星基础设施花费
  triggered_planet_modifier = {
    potential = {
      has_modifier = mastery_of_nature
    }
    modifier = {
      planet_structures_cost_mult = -0.15
    }
  }

  # 建筑和区划给予+2%建造和决议颁布速度, 盖亚星球上翻倍
  triggered_planet_modifier = {
    potential = {
      exists = owner
      owner = {
        is_wilderness_empire = yes
        has_tradition = tr_purity_finish
      }
    }
    planet_building_build_speed_mult = 0.02
    planet_decision_enact_speed_mult = 0.02
    mult = value:asr_wa_num_buildings_and_districts
  }
  triggered_planet_modifier = {
    potential = {
      is_planet_class = pc_gaia
      exists = owner
      owner = {
        is_wilderness_empire = yes
        has_tradition = tr_purity_finish
      }
    }
    planet_building_build_speed_mult = 0.02
    planet_decision_enact_speed_mult = 0.02
    mult = value:asr_wa_num_buildings_and_districts
  }

  inline_script = {
    script = buildings/on_all_wilderness_buildings_districts
  }

  triggered_desc = {
    trigger = { always = yes }
    text = asr_wa_b_cor_tt
  }

  triggered_desc = {
    trigger = { always = yes }
    text = asr_wa_b_cor_bonus_pop_growth_tt
  }
  triggered_desc = {
    trigger = {
      count_owned_pop_amount = {
        limit = { has_trait = trait_wilderness }
        count <= 2000
      }
    }
    text = asr_wa_b_cor_bonus_pop_growth_func
  }

  ai_estimate_without_unemployment = yes
  ai_weight_coefficient = 1.2
  additional_ai_weight = 200
}
