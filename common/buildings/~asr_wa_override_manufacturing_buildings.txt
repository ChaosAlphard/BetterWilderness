# Alloys
building_natural_furnace_0 = {
  icon = "natural_furnace_1"
  ruined_icon = "wilderness_building_ruined"
  base_buildtime = @buildtime_1
  category = manufacturing
  can_build = yes
  can_demolish = yes

  building_sets = {
    government
    foundry
  }

  inline_script = {
    script = buildings/wilderness_buildings_potential_destroy
  }

  inline_script = {
    script = asr_wa/building_resource_t1
    BASE = energy
  }

  upgrades = {
    building_natural_furnace_1
  }

  inline_script = {
    script = jobs/foundry_add
    AMOUNT = @building_static_jobs
  }

  inline_script = {
    script = buildings/on_all_wilderness_buildings_districts
  }

  ai_estimate_without_unemployment = yes
}

building_natural_furnace_1 = { # substitute for 'building_foundry_1'
  icon = "natural_furnace_2"
  ruined_icon = "wilderness_building_ruined"
  base_buildtime = @buildtime_2
  category = manufacturing
  can_build = no
  can_demolish = yes

  building_sets = {
    government
    foundry
  }

  inline_script = {
    script = buildings/wilderness_buildings_potential_destroy
  }

  prerequisites = {
    tech_alloys_1
  }
  show_tech_unlock_if = {
    is_wilderness_empire = yes
  }

  inline_script = {
    script = asr_wa/building_resource_t2
    BASE = energy
    RARE = volatile_motes
  }

  upgrades = {
    building_natural_furnace_2
  }

  inline_script = {
    script = jobs/foundry_add
    AMOUNT = @building_static_jobs_high
  }
  triggered_planet_modifier = {
    potential = { has_active_building = building_natural_furnace_3 }
    job_fabricator_add = @building_static_jobs
  }

  inline_script = {
    script = buildings/on_all_wilderness_buildings_districts
  }

  ai_estimate_without_unemployment = yes
}

building_natural_furnace_2 = { # substitute for 'building_foundry_2'
  icon = "natural_furnace_3"
  ruined_icon = "wilderness_building_ruined"
  base_buildtime = @buildtime_3
  category = manufacturing
  can_build = no
  can_demolish = yes
  planet_limit = 1

  building_sets = {
    government
    foundry
  }

  potential = {
    exists = owner
    owner = { is_wilderness_empire = yes }
  }
  allow = {
    has_major_upgraded_capital = yes
    NOR = {
      has_modifier = resort_colony
      has_modifier = slave_colony
    }
  }
  destroy_trigger = {
    exists = owner
    OR = {
      has_modifier = resort_colony
      has_modifier = slave_colony
      owner = { is_wilderness_empire = no }
    }
  }

  inline_script = {
    script = asr_wa/building_resource_t3
    BASE = energy
    RARE = volatile_motes
  }

  upgrades = {
    building_natural_furnace_3
  }

  prerequisites = {
    tech_alloys_1
  }

  show_tech_unlock_if = {
    is_wilderness_empire = yes
  }

  planet_modifier = {
    planet_metallurgists_alloys_produces_add = 1
    planet_metallurgists_minerals_upkeep_add = 2
    planet_metallurgists_produces_mult = 0.2
  }

  inline_script = {
    script = jobs/foundry_add
    AMOUNT = @building_static_jobs_very_high
  }

  inline_script = {
    script = buildings/on_all_wilderness_buildings_districts
  }

  ai_estimate_without_unemployment = yes
}

building_natural_furnace_3 = { # substitute for 'building_foundry_3'
  icon = "natural_furnace_4"
  ruined_icon = "wilderness_building_ruined"
  base_buildtime = @buildtime_4
  category = manufacturing
  can_build = no
  can_demolish = yes
  planet_limit = 1

  building_sets = {
    government
    foundry
  }

  potential = {
    exists = owner
    owner = { is_wilderness_empire = yes }
  }
  allow = {
    has_fully_upgraded_capital = yes
    NOR = {
      has_modifier = resort_colony
      has_modifier = slave_colony
    }
  }
  destroy_trigger = {
    exists = owner
    OR = {
      has_modifier = resort_colony
      has_modifier = slave_colony
      owner = { is_wilderness_empire = no }
    }
  }

  inline_script = {
    script = asr_wa/building_resource_t4
    BASE = energy
    RARE = volatile_motes
  }

  prerequisites = {
    tech_alloys_2
  }
  show_tech_unlock_if = {
    is_wilderness_empire = yes
  }

  planet_modifier = {
    planet_metallurgists_alloys_produces_add = 2
    planet_metallurgists_minerals_upkeep_add = 4
    planet_metallurgists_produces_mult = 0.2
    planet_metallurgists_upkeep_mult = -0.2
    pop_fabricator_bonus_workforce_mult = 0.20
  }
  triggered_planet_modifier = {
    potential = { is_ringworld = yes }
    planet_metallurgists_alloys_produces_add = 1
    planet_metallurgists_minerals_upkeep_add = 2
  }

  inline_script = {
    script = jobs/foundry_add
    AMOUNT = @building_static_jobs_very_high
  }

  triggered_desc = {
    text = asr_wa_building_natural_furnace_4_tt
  }

  inline_script = {
    script = buildings/on_all_wilderness_buildings_districts
  }

  ai_estimate_without_unemployment = yes
}

# Volatile Motes
building_mote_aggravator = { # substitute for 'building_chemical_plant'
  icon = "mote_aggravator"
  ruined_icon = "wilderness_building_ruined"
  base_buildtime = @buildtime_4
  category = manufacturing
  can_build = yes
  can_demolish = yes

  building_sets = {
    government
    foundry
  }

  inline_script = {
    script = buildings/wilderness_buildings_potential_destroy
  }
  prerequisites = {
    "tech_volatile_motes"
  }
  show_tech_unlock_if = {
    is_wilderness_empire = yes
  }

  inline_script = {
    script = asr_wa/building_rare_t1
    BASE = energy
  }

  planet_modifier = {
    job_chemist_drone_add = @building_static_jobs
  }

  inline_script = {
    script = buildings/on_all_wilderness_buildings_districts
  }

  ai_estimate_without_unemployment = yes
}

# Exotic Gas
building_churning_stomach = { # substitute for 'building_refinery'
  icon = "churning_stomach"
  ruined_icon = "wilderness_building_ruined"
  base_buildtime = @buildtime_4
  category = manufacturing
  can_build = yes
  can_demolish = yes

  building_sets = {
    government
    foundry
  }

  inline_script = {
    script = buildings/wilderness_buildings_potential_destroy
  }
  prerequisites = {
    "tech_exotic_gases"
  }
  show_tech_unlock_if = {
    is_wilderness_empire = yes
  }

  inline_script = {
    script = asr_wa/building_rare_t1
    BASE = energy
  }

  planet_modifier = {
    job_gas_refiner_drone_add = @building_static_jobs
  }

  inline_script = {
    script = buildings/on_all_wilderness_buildings_districts
  }

  ai_estimate_without_unemployment = yes
}

# Rare Crystals
building_crystal_growth = { # substitute for 'building_crystal_plant'
  icon = "crystal_growth"
  ruined_icon = "wilderness_building_ruined"
  base_buildtime = @buildtime_4
  category = manufacturing
  can_build = yes
  can_demolish = yes

  building_sets = {
    government
    foundry
  }

  inline_script = {
    script = buildings/wilderness_buildings_potential_destroy
  }
  prerequisites = {
    "tech_rare_crystals"
  }
  show_tech_unlock_if = {
    is_wilderness_empire = yes
  }

  inline_script = {
    script = asr_wa/building_rare_t1
    BASE = energy
  }

  planet_modifier = {
    job_translucer_drone_add = @building_static_jobs
  }

  inline_script = {
    script = buildings/on_all_wilderness_buildings_districts
  }

  ai_estimate_without_unemployment = yes
}
