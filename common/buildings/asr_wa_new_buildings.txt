# 催化林地
building_asr_wa_organic_processing = {
  icon = "building_hydroponics_farm"
  category = government
  base_buildtime = @buildtime_1
  can_build = yes
  can_demolish = yes
  can_be_ruined = yes
  planet_limit = 1

  building_sets = {
    research
    foundry
    factory
    industrial
  }

  potential = {
    exists = owner
    owner = { is_wilderness_empire = yes }
  }
  allow = {
    exists = owner
    owner = { is_ai = no }
  }
  destroy_trigger = {
    exists = owner
    owner = { is_wilderness_empire = no }
  }

  resources = {
    category = planet_buildings
    cost = {
      food = @b1_minerals
    }
    upkeep = {
      food = @b1_upkeep
    }
  }

  # Planet Modifier
  inline_script = { script = asr_wa/building/organic_processing/researcher }
  inline_script = { script = asr_wa/building/organic_processing/fabricator }
  inline_script = { script = asr_wa/building/organic_processing/rare_drone }

  ai_estimate_without_unemployment = yes

  # 这个参数已经被弃用
  ai_weight = { factor = 0 }
}

# 护卫哨所
building_asr_wa_sentinel_posts = {
  icon = "building_sentinel_posts"
  category = government
  base_buildtime = @b1_time
  can_build = yes
  can_demolish = yes
  can_be_ruined = yes

  building_sets = {
    government
    urban
  }

  potential = {
    exists = owner
    owner = { is_wilderness_empire = yes }
  }

  allow = {
    hidden_trigger = {
      OR = {
        owner = { is_ai = no }
        AND = {
          NOT = { has_building = building_asr_wa_sentinel_posts }
          NOT = { has_forbidden_jobs = patrol_drone }
          NOT = { has_available_jobs = patrol_drone }
        }
      }
    }
  }

  resources = {
    category = planet_buildings
    cost = {
      biomass = @wa_b2_biomass
    }
    cost = {
      food = @wa_b1_minerals
      minerals = @wa_b1_minerals
      trigger = { asr_wa_planet_use_food_build_building = no }
    }
    cost = {
      food = @wa_b1_foods
      trigger = { asr_wa_planet_use_food_build_building = yes }
    }
    upkeep = {
      food = @b1_upkeep
    }
  }

  destroy_trigger = {
    exists = owner
    owner = { is_wilderness_empire = no }
  }

  planet_modifier = {
    job_patrol_drone_per_pop = 0.02
  }

  prerequisites = {
    "tech_planetary_government"
  }

  show_tech_unlock_if = {
    always = no
  }

  inline_script = {
    script = buildings/on_all_wilderness_buildings_districts
  }
}

# 化学消化器
# building_asr_wa_mote_aggravator = {
#   base_buildtime = @b1_time
#   icon = "mote_aggravator"
#   ruined_icon = "wilderness_building_ruined"
#   planet_limit = 1
#
#   category = resource
#
#   building_sets = {
#     generator
#   }
#
#   potential = {
#     owner = { is_wilderness_empire = yes }
#   }
#
#   prerequisites = {
#     "tech_volatile_motes"
#   }
#   show_tech_unlock_if = { is_wilderness_empire = yes }
#
#   planet_modifier = {
#     planet_technician_volatile_motes_produces_add = 0.5
#     planet_technician_energy_produces_add = -3
#   }
#
#   resources = {
#     category = planet_buildings
#     cost = {
#       biomass = @wa_b1_biomass
#       food = 250
#     }
#     upkeep = {
#       food = @b1_upkeep
#     }
#   }
# }

# 异星天然气滤网
# building_asr_wa_churning_stomach = {
#   base_buildtime = @b1_time
#   icon = "churning_stomach"
#   ruined_icon = "wilderness_building_ruined"
#   planet_limit = 1
#
#   category = resource
#
#   building_sets = {
#     farming
#   }
#
#   potential = {
#     owner = { is_wilderness_empire = yes }
#   }
#
#   prerequisites = {
#     "tech_exotic_gases"
#   }
#   show_tech_unlock_if = { is_wilderness_empire = yes }
#
#   planet_modifier = {
#     planet_farmers_exotic_gases_produces_add = 0.5
#     planet_farmers_food_produces_add = -3
#   }
#
#   resources = {
#     category = planet_buildings
#     cost = {
#       biomass = @wa_b1_biomass
#       food = 250
#     }
#     upkeep = {
#       food = @b1_upkeep
#     }
#   }
# }

# 水晶矿床
# building_asr_wa_crystal_growth = {
#   base_buildtime = @b1_time
#   icon = "crystal_growth"
#   ruined_icon = "wilderness_building_ruined"
#   planet_limit = 1
#
#   category = resource
#
#   building_sets = {
#     mining
#   }
#
#   potential = {
#     owner = { is_wilderness_empire = yes }
#   }
#
#   prerequisites = {
#     "tech_rare_crystals"
#   }
#   show_tech_unlock_if = { is_wilderness_empire = yes }
#
#   planet_modifier = {
#     planet_miners_rare_crystals_produces_add = 0.5
#     planet_miners_minerals_produces_add = -2
#   }
#
#   resources = {
#     category = planet_buildings
#     cost = {
#       biomass = @wa_b1_biomass
#       food = 250
#     }
#     upkeep = {
#       food = @b1_upkeep
#     }
#   }
# }
