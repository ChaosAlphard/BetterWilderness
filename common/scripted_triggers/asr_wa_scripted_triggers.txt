asr_wa_planet_use_food_build_building = {
  exists = planet
  planet = {
    has_active_building = building_asr_wa_organic_processing
  }
}

asr_wa_planet_fabricator_use_food = {
  exists = planet
  planet = {
    has_active_building = building_asr_wa_organic_processing
  }
}

asr_wa_planet_researcher_use_food = {
  exists = planet
  planet = {
    has_active_building = building_asr_wa_organic_processing
  }
}

asr_wa_planet_is_wilderness_arcology = {
  hidden_trigger = { exists = planet }
  planet = {
    is_planet_class = pc_gaia
    [[NOT_WILDERNESS_WORLD] NOT = {
      has_planet_flag = asr_wa_pf_wilderness_world
    } ]
  }
}

asr_wa_planet_is_wilderness_world = {
  hidden_trigger = { exists = planet }
  planet = {
    is_planet_class = pc_gaia
    has_planet_flag = asr_wa_pf_wilderness_world
  }
}

asr_wa_has_any_hja_pf = {
  exists = owner
  owner = {
    OR = {
      has_policy_flag = irs_hja_researcher_use_default_resource
      has_policy_flag = irs_hja_researcher_use_food_resource
    }
  }
}

asr_wa_calc_tr_purity_unlock = {
  NOT = { has_tradition = tr_purity_finish }
  calc_true_if = {
    amount = $AMOUNT$
    # has_tradition = tr_purity_adopt
    # has_tradition = tr_purity_finish
    has_tradition = tr_purity_stage_1_swap
    has_tradition = tr_purity_stage_2_swap
    has_tradition = tr_purity_stage_3_swap
    # has_tradition = tr_purity_genotype_regeneration
    # has_tradition = tr_purity_exemplary_genetics
    # has_tradition = tr_purity_optimized_neurology
    # has_tradition = tr_purity_heightened_attributes
    # has_tradition = tr_purity_imperfection_remediation
  }
}
