asr_wa_num_districts = {
  base = 0
  complex_trigger_modifier = {
    trigger_scope = planet
    trigger = num_districts
    parameters = { type = any }
    mode = add
  }
  min = 0
}

asr_wa_num_buildings = {
  base = 0
  complex_trigger_modifier = {
    trigger_scope = planet
    trigger = num_buildings
    parameters = {
      disabled = no
      type = any
      owner_type = normal
    }
    mode = add
  }
  min = 0
}

asr_wa_num_buildings_and_districts = {
  base = 0
  add = value:asr_wa_num_buildings
  add = value:asr_wa_num_districts
}

asr_wa_cor_bonus_build_speed = {
  base = 0
  set = value:asr_wa_num_buildings_and_districts
  modifier = {
    asr_wa_planet_is_wilderness_arcology = yes
    mult = 2
  }
}

# TODO: 需要评估对性能影响, 考虑是否使用 Country Variable 的形式
# 参考 event: bio.5107 bio.5108
asr_wa_cor_bonus_workforce_all = {
  base = 0
  modifier = {
    add = owner_main_species.value:species_traits_purity_count_value
  }
  min = 0
  mult = 2.5
}

asr_wa_num_wilderness_pops = {
  base = 0
  complex_trigger_modifier = {
    trigger_scope = planet
    trigger = count_owned_pop_amount
    parameters = {
      limit = { asr_wa_is_normal_wilderness_pop = yes }
    }
    mode = add
  }
  min = 0
}

asr_wa_num_wilderness_pops_calc = {
  base = 0
  add = value:asr_wa_num_wilderness_pops
  min = $MIN$
}

asr_wa_workforce_spawning_drone = {
  base = 0
  complex_trigger_modifier = {
    trigger_scope = planet
    trigger = count_owned_workforce
    parameters = {
      limit = {
        has_job_type = spawning_drone
      }
    }
    mode = add
  }
  min = $MIN$
}

asr_wa_simulate_spawning_drone_from_pops = {
  base = 0
  set = @wa_bonus_growth_max_pops
  subtract = value:asr_wa_num_wilderness_pops_calc|MIN|@wa_bonus_growth_min_pops|
  min = 0
  mult = @wa_bonus_growth_pops_ratio
  round_to = 0.01
}
